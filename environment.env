# ===========================================
# BRAMPTON REAL ESTATE API - ENVIRONMENT CONFIGURATION
# ===========================================

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3001
NODE_ENV=development
TZ=America/Toronto

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================
SUPABASE_URL=https://gyeviskmqtkskcoyyprp.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd5ZXZpc2ttcXRrc2tjb3l5cHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzMjM5MzgsImV4cCI6MjA3Mzg5OTkzOH0.qDOpA1nSwWdnQhIJQiQx-rjgl800EjTU3M90iKQQDiI
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd5ZXZpc2ttcXRrc2tjb3l5cHJwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODMyMzkzOCwiZXhwIjoyMDczODk5OTM4fQ.KryixRJ8n-wy1n_WySex5qkHVST_awSudkM53SaSDj0

# ===========================================
# AMPRE RESO WEB API CONFIGURATION
# ===========================================


# AMPRE Access Tokens
IDX_TOKEN=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2ZW5kb3IvdHJyZWIvNjI4OSIsImF1ZCI6IkFtcFVzZXJzUHJkIiwicm9sZXMiOlsiQW1wVmVuZG9yIl0sImlzcyI6InByb2QuYW1wcmUuY2EiLCJleHAiOjI1MzQwMjMwMDc5OSwiaWF0IjoxNzU4NzMzOTQ2LCJzdWJqZWN0VHlwZSI6InZlbmRvciIsInN1YmplY3RLZXkiOiI2Mjg5IiwianRpIjoiNGM0NmIyOTgxNjhhODQ5YiIsImN1c3RvbWVyTmFtZSI6InRycmViIn0.AXTWrd_GMd19uiisBbW8IoFxqKzcEZrTSErSnT0qzkY
VOW_TOKEN=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2ZW5kb3IvdHJyZWIvNjI4OSIsImF1ZCI6IkFtcFVzZXJzUHJkIiwicm9sZXMiOlsiQW1wVmVuZG9yIl0sImlzcyI6InByb2QuYW1wcmUuY2EiLCJleHAiOjI1MzQwMjMwMDc5OSwiaWF0IjoxNzU4NzMzOTE3LCJzdWJqZWN0VHlwZSI6InZlbmRvciIsInN1YmplY3RLZXkiOiI2Mjg5IiwianRpIjoiNzA5NDdjMDlhZmJhM2VjMiIsImN1c3RvbWVyTmFtZSI6InRycmViIn0.xbZpVm251NtG1XyZSCswXGO4eN14oCo71Lg_iAakRsQ
ACCESS_TOKEN=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ2ZW5kb3IvdHJyZWIvNjI4OSIsImF1ZCI6IkFtcFVzZXJzUHJkIiwicm9sZXMiOlsiQW1wVmVuZG9yIl0sImlzcyI6InByb2QuYW1wcmUuY2EiLCJleHAiOjI1MzQwMjMwMDc5OSwiaWF0IjoxNzU4NzMzOTQ2LCJzdWJqZWN0VHlwZSI6InZlbmRvciIsInN1YmplY3RLZXkiOiI2Mjg5IiwianRpIjoiNGM0NmIyOTgxNjhhODQ5YiIsImN1c3RvbWVyTmFtZSI6InRycmViIn0.AXTWrd_GMd19uiisBbW8IoFxqKzcEZrTSErSnT0qzkY

# ===========================================
# AMPRE API ENDPOINT URLs (CLEANED UP)
# ===========================================

# Property feeds – static filters only (no hard-coded dates)
IDX_URL=https://query.ampre.ca/odata/Property?$filter=ContractStatus eq 'Available' and PropertyType ne 'Commercial'&$orderby=ModificationTimestamp desc
VOW_URL=https://query.ampre.ca/odata/Property?$filter=ContractStatus ne 'Available' and PropertyType ne 'Commercial'&$orderby=ModificationTimestamp desc

# Property Rooms – sorted by ModificationTimestamp
ROOMS_URL=https://query.ampre.ca/odata/PropertyRooms?$orderby=ModificationTimestamp desc

# Open House – sorted by OpenHouseDate
OPEN_URL=https://query.ampre.ca/odata/OpenHouse?$orderby=OpenHouseDate desc

# Media – exclude Commercial and sort by last modification
MEDIA_URL=https://query.ampre.ca/odata/Media?$filter=ClassName ne 'Commercial'&$orderby=MediaModificationTimestamp desc


# ===========================================
# SYNC CONFIGURATION
# ===========================================
SYNC_INTERVAL_MINUTES=30
BATCH_SIZE_PROPERTY=1000
BATCH_SIZE_MEDIA=500
SYNC_START_DATE=2025-09-26T16:15:00Z

# ===========================================
# ENHANCED MEDIA SYNC CONFIGURATION
# ===========================================
MEDIA_BATCH_SIZE=5000
MEDIA_DB_BATCH_SIZE=100
MEDIA_THROTTLE_DELAY=750
MEDIA_PROPERTY_BATCH_SIZE=500
MEDIA_FILTER=ClassName ne 'Commercial'
MEDIA_ENFORCE_MATCHING_ONLY=true

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================
# General API Rate Limiting (Middleware)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# AMPRE API Rate Limiting (Higher Limits)
AMPRE_RATE_LIMIT_PER_MINUTE=120
AMPRE_RATE_LIMIT_PER_HOUR=5000

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
# Backend API URL for frontend
NEXT_PUBLIC_BACKEND_URL=http://localhost:3001

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Database connection settings (if using direct connection)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=your_database_name
# DB_USER=your_database_user
# DB_PASSWORD=your_database_password

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Secret (if using JWT authentication)
# JWT_SECRET=your_jwt_secret_key

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ===========================================
# DEVELOPMENT/DEBUGGING
# ===========================================
# Enable debug mode
DEBUG=true

# Enable detailed logging
VERBOSE_LOGGING=true

# ===========================================
# PRODUCTION OVERRIDES (uncomment for production)
# ===========================================
# NODE_ENV=production
# LOG_LEVEL=warn
# DEBUG=false
# VERBOSE_LOGGING=false
